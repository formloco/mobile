<!-- <mat-toolbar>
  <span>Discrepancies by Division</span>
  <span class="spacer"></span>
  <button mat-icon-button color="primary" (click)="exportData()">
    <mat-icon>file_download</mat-icon>
  </button>
</mat-toolbar>
<div echarts [options]="options" class="demo-chart"></div>
<mat-toolbar>
  <span>Inspections by Division</span>
  <span class="spacer"></span>
  <button mat-icon-button color="primary" (click)="exportData()">
    <mat-icon>file_download</mat-icon>
  </button>
</mat-toolbar>
<div echarts [options]="options" class="demo-chart"></div>
<mat-toolbar>
  <span>Inspections by Supervisor</span>
  <span class="spacer"></span>
  <button mat-icon-button color="primary" (click)="exportData()">
    <mat-icon>file_download</mat-icon>
  </button>
</mat-toolbar>
<div echarts [options]="options" class="demo-chart"></div>
<mat-accordion multi [togglePosition]="'before'" *ngFor="let formObj of (forms$ | async);  index as i">
  <mat-expansion-panel (click)="setStep(i)" class="accordion-padding" [expanded]="step === i">
    <mat-expansion-panel-header>
      <mat-panel-title fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-icon class="material-icons-outlined">{{ formObj.icon }}</mat-icon>
        &nbsp;{{ formObj.name }}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div fxLayoutGap="15px">
      Inspections by Division
      <div echarts [options]="options" class="demo-chart"></div>
      Inspections by Supervisor
      <div echarts [options]="options" class="demo-chart"></div>
      Discrepancies
      <div echarts [options]="options" class="demo-chart"></div>
    </div>
  </mat-expansion-panel>
</mat-accordion> -->
<!-- <div fxLayout="row wrap">
  <div *ngFor="let chart of charts;  index as i" fxFlex="33">
    <mat-card class="custom hand" (click)=selectForm($event)>
      <mat-card-header>
        <mat-card-title>{{chart}}</mat-card-title>
      </mat-card-header>
      <div echarts [options]="options"></div>
    </mat-card>
  </div>
</div> -->


<!-- <mat-card-header>
  <div mat-card-avatar>
    <mat-icon class="form-icon material-icons-outlined">{{ formObj.icon }}</mat-icon>
  </div>
  <mat-card-title>{{ formObj.name }}</mat-card-title>
  <mat-card-subtitle>
        <div>{{(forms$ | async)?.length}} Submitted</div>
        <div>{{(forms$ | async)?.length}} Completed</div>
      </mat-card-subtitle>
      <div fxFlex></div>
      <div>
        <mat-card-subtitle>
          <div class="biglabel">Discrepancies</div>
          <div>15 Total</div>
          <div>10 Open</div>
          <div>5 Resolved</div>
        </mat-card-subtitle>
      </div>
    </mat-card-header> -->
<div fxLayout="column" class='chart-box'>
  <dashboard-filter [supervisors]='supervisors' [filters]='filters' (filterUpdate)='getUpdatedFilter($event)'>
  </dashboard-filter>
  <div fxLayout='column'>
    <div class='title-number'>Open / Unsigned Forms <span class='title-number__open'>({{openForms.length}})</span></div>
    <div class='form form__title' fxLayout='row'>
      <div>
        Form
      </div>
      <div class='form form__title form__column-right'>
        <div>
          Date
        </div>
        <div>
          Supervisor
        </div>
      </div>
    </div>
    <div class='list'>
      <div *ngFor="let form of openForms">
        <mat-card class="form" fxLayout='row'>
          <div fxLayoutGap="30px">
            <button color="primary" mat-mini-fab>
              <mat-icon class="material-icons-outlined" (click)="getPdf(form)">picture_as_pdf</mat-icon>
            </button>
            <button color="primary" mat-mini-fab>
              <mat-icon class="material-icons-outlined" (click)="openForm(notification, i)">dynamic_form</mat-icon>
            </button>
          </div>
          <!-- <a href='#' (click)="getPdf(form)"> -->
          <div>
            {{form.form_name}}
          </div>
          <div class='form form__column-right'>
            <div>
              {{getDate(form.date)}}
            </div>
            <div>
              {{getSupervisor(form.email_to)}}
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>

  <div class='title-number'>Signed Forms <span class='title-number__signed'>({{signedForms.length}})</span></div>
  <div class='form form__title' fxLayout='row'>
    <div>
      Form
    </div>
    <div class='form form__title form__column-right'>
      <div>
        Date
      </div>
      <div>
        Supervisor
      </div>
    </div>
  </div>
  <div class='list'>
    <div *ngFor="let form of signedForms">
      <mat-card class="form" fxLayout='row'>
        <div>
          <button color="primary" mat-mini-fab>
            <mat-icon class="material-icons-outlined" (click)="getPdf(form)">picture_as_pdf</mat-icon>
          </button>
        </div>
        <div>
          {{form.form_name}}
        </div>
        <div class='form form__column-right'>
          <div>
            {{getDate(form.date)}}
          </div>
          <div>
            {{getSupervisor(form.email_to)}}
          </div>
        </div>
      </mat-card>
    </div>
  </div>